<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jermaine Barber's | La Mejor Barber√≠a de Cartagena</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: '#D4AF37',
                        'gold-light': '#F4E4BC',
                        dark: '#0A0A0A',
                        darker: '#141414',
                    },
                    fontFamily: {
                        'display': ['Bebas Neue', 'sans-serif'],
                        'body': ['Space Grotesk', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Space Grotesk', sans-serif; }
        .font-display { font-family: 'Bebas Neue', sans-serif; }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #141414; }
        ::-webkit-scrollbar-thumb { background: #D4AF37; border-radius: 4px; }
        
        /* Chat animations */
        @keyframes messageIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .message-in { animation: messageIn 0.3s ease; }
        
        @keyframes typing {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        .typing-dot { animation: typing 1.4s infinite; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        /* Floating chat button */
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(212,175,55,0.4); }
            50% { box-shadow: 0 0 0 15px rgba(212,175,55,0); }
        }
        .chat-pulse { animation: pulse 2s infinite; }
        
        /* Glass effect */
        .glass {
            background: rgba(20,20,20,0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(212,175,55,0.2);
        }
        
        /* Language toggle */
        .lang-es, .lang-en { display: none; }
        body.es .lang-es { display: block; }
        body.en .lang-en { display: block; }
        body.es .lang-es-inline { display: inline; }
        body.en .lang-en-inline { display: inline; }
        body.es .lang-en-inline { display: none; }
        body.en .lang-es-inline { display: none; }
        body.es .lang-es-flex { display: flex; }
        body.en .lang-en-flex { display: flex; }
        body.es .lang-en-flex { display: none; }
        body.en .lang-es-flex { display: none; }
    </style>
</head>
<body class="bg-dark text-white es">
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 w-full z-50 glass">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <a href="#" class="font-display text-2xl tracking-wider text-gold">JERMAINE BARBER'S</a>
            <div class="hidden md:flex items-center gap-8">
                <a href="#services" class="text-sm hover:text-gold transition">
                    <span class="lang-es-inline">Servicios</span>
                    <span class="lang-en-inline">Services</span>
                </a>
                <a href="#booking" class="text-sm hover:text-gold transition">
                    <span class="lang-es-inline">Reservar</span>
                    <span class="lang-en-inline">Book</span>
                </a>
                <a href="#shop" class="text-sm hover:text-gold transition">
                    <span class="lang-es-inline">Tienda</span>
                    <span class="lang-en-inline">Shop</span>
                </a>
                <a href="#location" class="text-sm hover:text-gold transition">
                    <span class="lang-es-inline">Ubicaci√≥n</span>
                    <span class="lang-en-inline">Location</span>
                </a>
                <button onclick="toggleLang()" class="px-4 py-2 border border-gold text-gold text-xs tracking-widest hover:bg-gold hover:text-dark transition">
                    EN / ES
                </button>
            </div>
            <button onclick="toggleMobileMenu()" class="md:hidden text-gold">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden md:hidden px-4 pb-4">
            <a href="#services" class="block py-2 text-sm hover:text-gold">
                <span class="lang-es-inline">Servicios</span><span class="lang-en-inline">Services</span>
            </a>
            <a href="#booking" class="block py-2 text-sm hover:text-gold">
                <span class="lang-es-inline">Reservar</span><span class="lang-en-inline">Book</span>
            </a>
            <a href="#shop" class="block py-2 text-sm hover:text-gold">
                <span class="lang-es-inline">Tienda</span><span class="lang-en-inline">Shop</span>
            </a>
            <a href="#location" class="block py-2 text-sm hover:text-gold">
                <span class="lang-es-inline">Ubicaci√≥n</span><span class="lang-en-inline">Location</span>
            </a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="min-h-screen flex items-center justify-center relative overflow-hidden pt-20">
        <div class="absolute inset-0 bg-gradient-to-br from-gold/10 via-transparent to-transparent"></div>
        <div class="max-w-7xl mx-auto px-4 text-center relative z-10">
            <p class="text-gold text-sm tracking-[0.3em] mb-6">
                <span class="lang-es-inline">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 5.0 EN GOOGLE ‚Ä¢ 591 REVIEWS</span>
                <span class="lang-en-inline">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 5.0 ON GOOGLE ‚Ä¢ 591 REVIEWS</span>
            </p>
            <h1 class="font-display text-6xl md:text-8xl lg:text-9xl leading-none mb-6">
                <span class="lang-es-inline">LA MEJOR<br><span class="text-gold">BARBER√çA</span><br>DE CARTAGENA</span>
                <span class="lang-en-inline">CARTAGENA'S<br><span class="text-gold">BEST</span><br>BARBERSHOP</span>
            </h1>
            <p class="text-gray-400 max-w-xl mx-auto mb-10 text-lg">
                <span class="lang-es-inline">Cortes de precisi√≥n, afeitados cl√°sicos, y ahora servicios completos de belleza. Reserva 24/7 con nuestra IA.</span>
                <span class="lang-en-inline">Precision cuts, classic shaves, and now complete beauty services. Book 24/7 with our AI.</span>
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="openBooking()" class="px-8 py-4 bg-gold text-dark font-semibold hover:bg-gold-light transition">
                    <span class="lang-es-inline">RESERVAR AHORA</span>
                    <span class="lang-en-inline">BOOK NOW</span>
                </button>
                <button onclick="openChat()" class="px-8 py-4 border border-white hover:bg-white hover:text-dark transition">
                    <span class="lang-es-inline">üí¨ HABLAR CON SOFIA</span>
                    <span class="lang-en-inline">üí¨ CHAT WITH SOFIA</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="py-20 bg-darker">
        <div class="max-w-7xl mx-auto px-4">
            <p class="text-gold text-sm tracking-[0.3em] mb-4">
                <span class="lang-es-inline">NUESTROS SERVICIOS</span>
                <span class="lang-en-inline">OUR SERVICES</span>
            </p>
            <h2 class="font-display text-5xl md:text-6xl mb-12">
                <span class="lang-es-inline">TODO LO QUE<br>NECESITAS</span>
                <span class="lang-en-inline">EVERYTHING<br>YOU NEED</span>
            </h2>
            
            <!-- Service Categories -->
            <div class="flex flex-wrap gap-4 mb-10">
                <button onclick="filterServices('all')" class="service-filter active px-6 py-2 border border-gold text-gold hover:bg-gold hover:text-dark transition" data-filter="all">
                    <span class="lang-es-inline">Todos</span>
                    <span class="lang-en-inline">All</span>
                </button>
                <button onclick="filterServices('barber')" class="service-filter px-6 py-2 border border-gray-600 text-gray-400 hover:border-gold hover:text-gold transition" data-filter="barber">
                    <span class="lang-es-inline">Barber√≠a</span>
                    <span class="lang-en-inline">Barber</span>
                </button>
                <button onclick="filterServices('hair')" class="service-filter px-6 py-2 border border-gray-600 text-gray-400 hover:border-gold hover:text-gold transition" data-filter="hair">
                    <span class="lang-es-inline">Cabello</span>
                    <span class="lang-en-inline">Hair</span>
                </button>
                <button onclick="filterServices('nails')" class="service-filter px-6 py-2 border border-gray-600 text-gray-400 hover:border-gold hover:text-gold transition" data-filter="nails">
                    <span class="lang-es-inline">U√±as</span>
                    <span class="lang-en-inline">Nails</span>
                </button>
                <button onclick="filterServices('spa')" class="service-filter px-6 py-2 border border-gray-600 text-gray-400 hover:border-gold hover:text-gold transition" data-filter="spa">
                    <span class="lang-es-inline">Spa</span>
                    <span class="lang-en-inline">Spa</span>
                </button>
            </div>

            <!-- Services Grid -->
            <div id="servicesGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Barber Services -->
                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="barber" onclick="selectService('corte-clasico', 25000, 'Corte Cl√°sico')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Corte Cl√°sico</span>
                                <span class="lang-en-inline">Classic Cut</span>
                            </h3>
                            <p class="text-gray-400 text-sm">45 min</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$25K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Corte tradicional con tijeras o m√°quina, incluye lavado y estilo.</span>
                        <span class="lang-en-inline">Traditional cut with scissors or clippers, includes wash and style.</span>
                    </p>
                </div>

                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="barber" onclick="selectService('fade', 30000, 'Fade / Degradado')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">Fade / Degradado</h3>
                            <p class="text-gray-400 text-sm">50 min</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$30K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Low, mid o high fade con dise√±o personalizado.</span>
                        <span class="lang-en-inline">Low, mid or high fade with custom design.</span>
                    </p>
                </div>

                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="barber" onclick="selectService('barba', 15000, 'Arreglo de Barba')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Arreglo de Barba</span>
                                <span class="lang-en-inline">Beard Trim</span>
                            </h3>
                            <p class="text-gray-400 text-sm">25 min</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$15K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Recorte, perfilado y dise√±o de barba con navaja.</span>
                        <span class="lang-en-inline">Trim, shaping and beard design with straight razor.</span>
                    </p>
                </div>

                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="barber" onclick="selectService('afeitado', 20000, 'Afeitado Cl√°sico')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Afeitado Cl√°sico</span>
                                <span class="lang-en-inline">Classic Shave</span>
                            </h3>
                            <p class="text-gray-400 text-sm">35 min</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$20K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Afeitado con navaja, toalla caliente y tratamiento facial.</span>
                        <span class="lang-en-inline">Straight razor shave with hot towel and facial treatment.</span>
                    </p>
                </div>

                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="barber" onclick="selectService('combo', 35000, 'Combo Corte + Barba')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Combo Corte + Barba</span>
                                <span class="lang-en-inline">Cut + Beard Combo</span>
                            </h3>
                            <p class="text-gray-400 text-sm">1h 10min</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$35K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Corte completo m√°s arreglo de barba. El favorito.</span>
                        <span class="lang-en-inline">Full cut plus beard trim. The favorite.</span>
                    </p>
                </div>

                <!-- Hair Services -->
                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="hair" onclick="selectService('tinte', 80000, 'Tinte Completo')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Tinte Completo</span>
                                <span class="lang-en-inline">Full Color</span>
                            </h3>
                            <p class="text-gray-400 text-sm">2h</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$80K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Coloraci√≥n profesional con productos de alta calidad.</span>
                        <span class="lang-en-inline">Professional coloring with high-quality products.</span>
                    </p>
                </div>

                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="hair" onclick="selectService('mechas', 120000, 'Mechas / Highlights')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">Mechas / Highlights</h3>
                            <p class="text-gray-400 text-sm">3h</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$120K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Mechas californianas, balayage o babylights.</span>
                        <span class="lang-en-inline">Californian highlights, balayage or babylights.</span>
                    </p>
                </div>

                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="hair" onclick="selectService('tratamiento', 50000, 'Tratamiento Capilar')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Tratamiento Capilar</span>
                                <span class="lang-en-inline">Hair Treatment</span>
                            </h3>
                            <p class="text-gray-400 text-sm">45 min</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$50K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Hidrataci√≥n profunda, keratina o botox capilar.</span>
                        <span class="lang-en-inline">Deep hydration, keratin or hair botox.</span>
                    </p>
                </div>

                <!-- Nails Services -->
                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="nails" onclick="selectService('manicure', 25000, 'Manicure Cl√°sico')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Manicure Cl√°sico</span>
                                <span class="lang-en-inline">Classic Manicure</span>
                            </h3>
                            <p class="text-gray-400 text-sm">40 min</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$25K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Limpieza, limado, cut√≠culas y esmalte tradicional.</span>
                        <span class="lang-en-inline">Cleaning, filing, cuticles and traditional polish.</span>
                    </p>
                </div>

                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="nails" onclick="selectService('manicure-gel', 45000, 'Manicure Semipermanente')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Manicure Semipermanente</span>
                                <span class="lang-en-inline">Gel Manicure</span>
                            </h3>
                            <p class="text-gray-400 text-sm">1h</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$45K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Esmalte en gel con l√°mpara UV. Dura 3 semanas.</span>
                        <span class="lang-en-inline">Gel polish with UV lamp. Lasts 3 weeks.</span>
                    </p>
                </div>

                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="nails" onclick="selectService('pedicure', 35000, 'Pedicure Completo')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Pedicure Completo</span>
                                <span class="lang-en-inline">Full Pedicure</span>
                            </h3>
                            <p class="text-gray-400 text-sm">1h</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$35K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Spa de pies, exfoliaci√≥n, masaje y esmalte.</span>
                        <span class="lang-en-inline">Foot spa, exfoliation, massage and polish.</span>
                    </p>
                </div>

                <!-- Spa Services -->
                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="spa" onclick="selectService('facial', 60000, 'Facial Profundo')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Facial Profundo</span>
                                <span class="lang-en-inline">Deep Facial</span>
                            </h3>
                            <p class="text-gray-400 text-sm">1h</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$60K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Limpieza facial, mascarilla, vapor y masaje.</span>
                        <span class="lang-en-inline">Facial cleansing, mask, steam and massage.</span>
                    </p>
                </div>

                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="spa" onclick="selectService('masaje', 70000, 'Masaje Relajante')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Masaje Relajante</span>
                                <span class="lang-en-inline">Relaxing Massage</span>
                            </h3>
                            <p class="text-gray-400 text-sm">1h</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$70K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Masaje de cuerpo completo con aceites esenciales.</span>
                        <span class="lang-en-inline">Full body massage with essential oils.</span>
                    </p>
                </div>

                <div class="service-card glass p-6 hover:border-gold transition cursor-pointer" data-category="spa" onclick="selectService('cejas', 12000, 'Dise√±o de Cejas')">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-semibold">
                                <span class="lang-es-inline">Dise√±o de Cejas</span>
                                <span class="lang-en-inline">Eyebrow Design</span>
                            </h3>
                            <p class="text-gray-400 text-sm">20 min</p>
                        </div>
                        <span class="text-gold font-display text-2xl">$12K</span>
                    </div>
                    <p class="text-gray-400 text-sm">
                        <span class="lang-es-inline">Depilaci√≥n con cera o hilo. Perfilado perfecto.</span>
                        <span class="lang-en-inline">Wax or thread removal. Perfect shaping.</span>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Booking Section -->
    <section id="booking" class="py-20 bg-dark">
        <div class="max-w-7xl mx-auto px-4">
            <p class="text-gold text-sm tracking-[0.3em] mb-4">
                <span class="lang-es-inline">RESERVA TU CITA</span>
                <span class="lang-en-inline">BOOK YOUR APPOINTMENT</span>
            </p>
            <h2 class="font-display text-5xl md:text-6xl mb-12">
                <span class="lang-es-inline">ELIGE TU<br>MOMENTO</span>
                <span class="lang-en-inline">CHOOSE YOUR<br>TIME</span>
            </h2>

            <div class="grid lg:grid-cols-2 gap-10">
                <!-- Calendar -->
                <div class="glass p-6 rounded-lg">
                    <div class="flex justify-between items-center mb-6">
                        <button onclick="prevMonth()" class="text-gold hover:text-gold-light">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                            </svg>
                        </button>
                        <h3 id="currentMonth" class="text-xl font-semibold"></h3>
                        <button onclick="nextMonth()" class="text-gold hover:text-gold-light">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                        </button>
                    </div>
                    <div class="grid grid-cols-7 gap-2 text-center mb-4">
                        <span class="text-gray-500 text-sm lang-es-inline">Dom</span>
                        <span class="text-gray-500 text-sm lang-en-inline hidden">Sun</span>
                        <span class="text-gray-500 text-sm lang-es-inline">Lun</span>
                        <span class="text-gray-500 text-sm lang-en-inline hidden">Mon</span>
                        <span class="text-gray-500 text-sm lang-es-inline">Mar</span>
                        <span class="text-gray-500 text-sm lang-en-inline hidden">Tue</span>
                        <span class="text-gray-500 text-sm lang-es-inline">Mi√©</span>
                        <span class="text-gray-500 text-sm lang-en-inline hidden">Wed</span>
                        <span class="text-gray-500 text-sm lang-es-inline">Jue</span>
                        <span class="text-gray-500 text-sm lang-en-inline hidden">Thu</span>
                        <span class="text-gray-500 text-sm lang-es-inline">Vie</span>
                        <span class="text-gray-500 text-sm lang-en-inline hidden">Fri</span>
                        <span class="text-gray-500 text-sm lang-es-inline">S√°b</span>
                        <span class="text-gray-500 text-sm lang-en-inline hidden">Sat</span>
                    </div>
                    <div id="calendarDays" class="grid grid-cols-7 gap-2"></div>
                </div>

                <!-- Time Slots & Summary -->
                <div>
                    <div class="glass p-6 rounded-lg mb-6">
                        <h3 class="text-lg font-semibold mb-4">
                            <span class="lang-es-inline">Horarios Disponibles</span>
                            <span class="lang-en-inline">Available Times</span>
                        </h3>
                        <div id="timeSlots" class="grid grid-cols-3 gap-3">
                            <!-- Time slots will be populated by JS -->
                        </div>
                    </div>

                    <!-- Booking Summary -->
                    <div class="glass p-6 rounded-lg">
                        <h3 class="text-lg font-semibold mb-4">
                            <span class="lang-es-inline">Resumen de Reserva</span>
                            <span class="lang-en-inline">Booking Summary</span>
                        </h3>
                        <div id="bookingSummary" class="space-y-3 text-gray-400">
                            <p>
                                <span class="lang-es-inline">Selecciona un servicio y fecha</span>
                                <span class="lang-en-inline">Select a service and date</span>
                            </p>
                        </div>
                        <button id="confirmBooking" onclick="confirmBooking()" class="w-full mt-6 py-4 bg-gold text-dark font-semibold hover:bg-gold-light transition disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            <span class="lang-es-inline">CONFIRMAR RESERVA</span>
                            <span class="lang-en-inline">CONFIRM BOOKING</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Shop Section -->
    <section id="shop" class="py-20 bg-darker">
        <div class="max-w-7xl mx-auto px-4">
            <p class="text-gold text-sm tracking-[0.3em] mb-4">
                <span class="lang-es-inline">NUESTRA TIENDA</span>
                <span class="lang-en-inline">OUR SHOP</span>
            </p>
            <h2 class="font-display text-5xl md:text-6xl mb-12">
                <span class="lang-es-inline">PRODUCTOS<br>PREMIUM</span>
                <span class="lang-en-inline">PREMIUM<br>PRODUCTS</span>
            </h2>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Product 1 -->
                <div class="glass p-4 rounded-lg group">
                    <div class="aspect-square bg-gradient-to-br from-gold/20 to-transparent rounded-lg mb-4 flex items-center justify-center">
                        <span class="text-6xl">üß¥</span>
                    </div>
                    <h3 class="font-semibold mb-1">Pomada Mate</h3>
                    <p class="text-gray-400 text-sm mb-3">
                        <span class="lang-es-inline">Fijaci√≥n fuerte, acabado natural</span>
                        <span class="lang-en-inline">Strong hold, natural finish</span>
                    </p>
                    <div class="flex justify-between items-center">
                        <span class="text-gold font-display text-xl">$45K</span>
                        <button onclick="addToCart('pomada', 45000)" class="px-4 py-2 bg-gold text-dark text-sm hover:bg-gold-light transition">
                            <span class="lang-es-inline">Agregar</span>
                            <span class="lang-en-inline">Add</span>
                        </button>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="glass p-4 rounded-lg group">
                    <div class="aspect-square bg-gradient-to-br from-gold/20 to-transparent rounded-lg mb-4 flex items-center justify-center">
                        <span class="text-6xl">ü™í</span>
                    </div>
                    <h3 class="font-semibold mb-1">Aceite para Barba</h3>
                    <p class="text-gray-400 text-sm mb-3">
                        <span class="lang-es-inline">Hidrata y da brillo</span>
                        <span class="lang-en-inline">Moisturizes and shines</span>
                    </p>
                    <div class="flex justify-between items-center">
                        <span class="text-gold font-display text-xl">$55K</span>
                        <button onclick="addToCart('aceite', 55000)" class="px-4 py-2 bg-gold text-dark text-sm hover:bg-gold-light transition">
                            <span class="lang-es-inline">Agregar</span>
                            <span class="lang-en-inline">Add</span>
                        </button>
                    </div>
                </div>

                <!-- Product 3 -->
                <div class="glass p-4 rounded-lg group">
                    <div class="aspect-square bg-gradient-to-br from-gold/20 to-transparent rounded-lg mb-4 flex items-center justify-center">
                        <span class="text-6xl">‚úÇÔ∏è</span>
                    </div>
                    <h3 class="font-semibold mb-1">Kit de Barbero</h3>
                    <p class="text-gray-400 text-sm mb-3">
                        <span class="lang-es-inline">Peine, tijeras y capa</span>
                        <span class="lang-en-inline">Comb, scissors and cape</span>
                    </p>
                    <div class="flex justify-between items-center">
                        <span class="text-gold font-display text-xl">$120K</span>
                        <button onclick="addToCart('kit', 120000)" class="px-4 py-2 bg-gold text-dark text-sm hover:bg-gold-light transition">
                            <span class="lang-es-inline">Agregar</span>
                            <span class="lang-en-inline">Add</span>
                        </button>
                    </div>
                </div>

                <!-- Product 4 -->
                <div class="glass p-4 rounded-lg group">
                    <div class="aspect-square bg-gradient-to-br from-gold/20 to-transparent rounded-lg mb-4 flex items-center justify-center">
                        <span class="text-6xl">üíÜ</span>
                    </div>
                    <h3 class="font-semibold mb-1">Shampoo Antica√≠da</h3>
                    <p class="text-gray-400 text-sm mb-3">
                        <span class="lang-es-inline">Fortalece y previene</span>
                        <span class="lang-en-inline">Strengthens and prevents</span>
                    </p>
                    <div class="flex justify-between items-center">
                        <span class="text-gold font-display text-xl">$65K</span>
                        <button onclick="addToCart('shampoo', 65000)" class="px-4 py-2 bg-gold text-dark text-sm hover:bg-gold-light transition">
                            <span class="lang-es-inline">Agregar</span>
                            <span class="lang-en-inline">Add</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Cart Summary (floating) -->
            <div id="cartFloat" class="hidden fixed bottom-24 right-6 glass p-4 rounded-lg z-40 min-w-[250px]">
                <h4 class="font-semibold mb-3">
                    <span class="lang-es-inline">üõí Tu Carrito</span>
                    <span class="lang-en-inline">üõí Your Cart</span>
                </h4>
                <div id="cartItems" class="space-y-2 text-sm"></div>
                <div class="border-t border-gray-700 mt-3 pt-3 flex justify-between font-semibold">
                    <span>Total:</span>
                    <span id="cartTotal" class="text-gold">$0</span>
                </div>
                <button onclick="checkout()" class="w-full mt-3 py-2 bg-gold text-dark text-sm font-semibold hover:bg-gold-light transition">
                    <span class="lang-es-inline">Pagar</span>
                    <span class="lang-en-inline">Checkout</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Location Section -->
    <section id="location" class="py-20 bg-dark">
        <div class="max-w-7xl mx-auto px-4">
            <p class="text-gold text-sm tracking-[0.3em] mb-4">
                <span class="lang-es-inline">ENCU√âNTRANOS</span>
                <span class="lang-en-inline">FIND US</span>
            </p>
            <h2 class="font-display text-5xl md:text-6xl mb-12">
                <span class="lang-es-inline">EN EL CORAZ√ìN<br>DEL CENTRO</span>
                <span class="lang-en-inline">IN THE HEART<br>OF DOWNTOWN</span>
            </h2>

            <div class="grid lg:grid-cols-2 gap-10">
                <!-- Map -->
                <div class="aspect-video lg:aspect-auto lg:h-[400px] rounded-lg overflow-hidden">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3924.123456789!2d-75.5511!3d10.4236!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8ef62f9e43e1d5c5%3A0x1234567890abcdef!2sJermaine%20Barber&#39;s!5e0!3m2!1ses!2sco!4v1234567890"
                        width="100%" 
                        height="100%" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy"
                        class="grayscale hover:grayscale-0 transition duration-500">
                    </iframe>
                </div>

                <!-- Info -->
                <div class="space-y-8">
                    <div class="glass p-6 rounded-lg">
                        <h3 class="text-gold text-sm tracking-widest mb-3">
                            <span class="lang-es-inline">DIRECCI√ìN</span>
                            <span class="lang-en-inline">ADDRESS</span>
                        </h3>
                        <p class="text-lg">Calle 6 #2-26, Edificio Granada</p>
                        <p class="text-gray-400">Local 2A, frente al Hotel Almirante</p>
                        <p class="text-gray-400">Cartagena de Indias, Bol√≠var</p>
                        <a href="https://maps.google.com/?q=Jermaine+Barbers+Cartagena" target="_blank" class="inline-block mt-4 text-gold hover:text-gold-light transition">
                            <span class="lang-es-inline">Ver en Google Maps ‚Üí</span>
                            <span class="lang-en-inline">View on Google Maps ‚Üí</span>
                        </a>
                    </div>

                    <div class="glass p-6 rounded-lg">
                        <h3 class="text-gold text-sm tracking-widest mb-3">
                            <span class="lang-es-inline">HORARIOS</span>
                            <span class="lang-en-inline">HOURS</span>
                        </h3>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span class="lang-es-inline">Lunes - Viernes</span>
                                <span class="lang-en-inline">Monday - Friday</span>
                                <span>9:00 AM - 8:00 PM</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="lang-es-inline">S√°bado</span>
                                <span class="lang-en-inline">Saturday</span>
                                <span>9:00 AM - 6:00 PM</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="lang-es-inline">Domingo</span>
                                <span class="lang-en-inline">Sunday</span>
                                <span class="lang-es-inline">Cerrado</span>
                                <span class="lang-en-inline">Closed</span>
                            </div>
                        </div>
                    </div>

                    <div class="glass p-6 rounded-lg">
                        <h3 class="text-gold text-sm tracking-widest mb-3">
                            <span class="lang-es-inline">CONTACTO</span>
                            <span class="lang-en-inline">CONTACT</span>
                        </h3>
                        <div class="space-y-3">
                            <a href="tel:+573181326952" class="flex items-center gap-3 hover:text-gold transition">
                                üìû +57 318 132 6952
                            </a>
                            <a href="https://wa.me/573181326952" class="flex items-center gap-3 hover:text-gold transition">
                                üí¨ WhatsApp
                            </a>
                            <a href="https://instagram.com/jermainebarbers" target="_blank" class="flex items-center gap-3 hover:text-gold transition">
                                üì∑ @jermainebarbers
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-10 bg-darker border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="font-display text-2xl text-gold tracking-wider mb-4">JERMAINE BARBER'S</p>
            <p class="text-gray-500 text-sm">
                <span class="lang-es-inline">¬© 2026 Todos los derechos reservados ‚Ä¢ Powered by MachineMind</span>
                <span class="lang-en-inline">¬© 2026 All rights reserved ‚Ä¢ Powered by MachineMind</span>
            </p>
        </div>
    </footer>

    <!-- Sofia AI Chatbot -->
    <div id="chatWidget" class="fixed bottom-6 right-6 z-50">
        <!-- Chat Button -->
        <button id="chatButton" onclick="toggleChat()" class="w-16 h-16 bg-gold rounded-full flex items-center justify-center shadow-lg chat-pulse hover:bg-gold-light transition">
            <span class="text-2xl">üí¨</span>
        </button>

        <!-- Chat Window -->
        <div id="chatWindow" class="hidden absolute bottom-20 right-0 w-[380px] max-w-[calc(100vw-2rem)] glass rounded-2xl overflow-hidden shadow-2xl">
            <!-- Chat Header -->
            <div class="bg-gradient-to-r from-gold to-yellow-600 p-4 flex items-center gap-3">
                <div class="w-10 h-10 bg-dark rounded-full flex items-center justify-center font-display text-gold">S</div>
                <div class="flex-1">
                    <h4 class="font-semibold text-dark">Sofia AI</h4>
                    <p class="text-dark/70 text-xs">
                        <span class="lang-es-inline">Tu asistente virtual</span>
                        <span class="lang-en-inline">Your virtual assistant</span>
                    </p>
                </div>
                <button onclick="toggleChat()" class="text-dark/70 hover:text-dark">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>

            <!-- Chat Messages -->
            <div id="chatMessages" class="h-[350px] overflow-y-auto p-4 space-y-4">
                <!-- Welcome message -->
                <div class="flex gap-3 message-in">
                    <div class="w-8 h-8 bg-gold rounded-full flex items-center justify-center flex-shrink-0 font-display text-dark text-sm">S</div>
                    <div class="bg-gray-800 rounded-2xl rounded-tl-none p-3 max-w-[80%]">
                        <p class="text-sm">
                            <span class="lang-es-inline">¬°Hola! üëã Soy Sofia, tu asistente de Jermaine Barber's. Puedo ayudarte con:</span>
                            <span class="lang-en-inline">Hi! üëã I'm Sofia, your Jermaine Barber's assistant. I can help you with:</span>
                        </p>
                        <ul class="text-sm mt-2 space-y-1 text-gray-300">
                            <li>‚Ä¢ <span class="lang-es-inline">Reservar citas</span><span class="lang-en-inline">Book appointments</span></li>
                            <li>‚Ä¢ <span class="lang-es-inline">Informaci√≥n de servicios y precios</span><span class="lang-en-inline">Services and pricing info</span></li>
                            <li>‚Ä¢ <span class="lang-es-inline">Horarios y ubicaci√≥n</span><span class="lang-en-inline">Hours and location</span></li>
                            <li>‚Ä¢ <span class="lang-es-inline">Recomendaciones de productos</span><span class="lang-en-inline">Product recommendations</span></li>
                        </ul>
                        <p class="text-sm mt-2">
                            <span class="lang-es-inline">¬øEn qu√© puedo ayudarte hoy?</span>
                            <span class="lang-en-inline">How can I help you today?</span>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Quick Replies -->
            <div id="quickReplies" class="px-4 pb-2 flex flex-wrap gap-2">
                <button onclick="sendQuickReply('reservar')" class="px-3 py-1 text-xs border border-gold text-gold rounded-full hover:bg-gold hover:text-dark transition">
                    <span class="lang-es-inline">Reservar cita</span>
                    <span class="lang-en-inline">Book appointment</span>
                </button>
                <button onclick="sendQuickReply('precios')" class="px-3 py-1 text-xs border border-gold text-gold rounded-full hover:bg-gold hover:text-dark transition">
                    <span class="lang-es-inline">Ver precios</span>
                    <span class="lang-en-inline">View prices</span>
                </button>
                <button onclick="sendQuickReply('horarios')" class="px-3 py-1 text-xs border border-gold text-gold rounded-full hover:bg-gold hover:text-dark transition">
                    <span class="lang-es-inline">Horarios</span>
                    <span class="lang-en-inline">Hours</span>
                </button>
                <button onclick="sendQuickReply('ubicacion')" class="px-3 py-1 text-xs border border-gold text-gold rounded-full hover:bg-gold hover:text-dark transition">
                    <span class="lang-es-inline">¬øC√≥mo llego?</span>
                    <span class="lang-en-inline">How to get there?</span>
                </button>
            </div>

            <!-- Chat Input -->
            <div class="p-4 border-t border-gray-700">
                <div class="flex gap-2">
                    <input 
                        type="text" 
                        id="chatInput" 
                        placeholder="Escribe tu mensaje... / Type your message..."
                        class="flex-1 bg-gray-800 border border-gray-700 rounded-full px-4 py-2 text-sm focus:outline-none focus:border-gold"
                        onkeypress="if(event.key==='Enter')sendMessage()"
                    >
                    <button onclick="sendMessage()" class="w-10 h-10 bg-gold rounded-full flex items-center justify-center hover:bg-gold-light transition">
                        <svg class="w-5 h-5 text-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Modal -->
    <div id="bookingModal" class="hidden fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4">
        <div class="glass rounded-2xl max-w-md w-full p-6">
            <h3 class="font-display text-3xl text-gold mb-4">
                <span class="lang-es-inline">¬°RESERVA CONFIRMADA!</span>
                <span class="lang-en-inline">BOOKING CONFIRMED!</span>
            </h3>
            <div id="bookingDetails" class="space-y-3 mb-6"></div>
            <p class="text-gray-400 text-sm mb-6">
                <span class="lang-es-inline">Te enviaremos un recordatorio por WhatsApp 24 horas antes de tu cita.</span>
                <span class="lang-en-inline">We'll send you a WhatsApp reminder 24 hours before your appointment.</span>
            </p>
            <button onclick="closeBookingModal()" class="w-full py-3 bg-gold text-dark font-semibold hover:bg-gold-light transition">
                <span class="lang-es-inline">CERRAR</span>
                <span class="lang-en-inline">CLOSE</span>
            </button>
        </div>
    </div>

    <script>
        // ================== STATE MANAGEMENT ==================
        const state = {
            selectedService: null,
            selectedDate: null,
            selectedTime: null,
            selectedBarber: 'any',
            cart: [],
            currentMonth: new Date(),
            clients: JSON.parse(localStorage.getItem('jermaine_clients') || '[]'),
            bookings: JSON.parse(localStorage.getItem('jermaine_bookings') || '[]'),
            lang: 'es'
        };

        // ================== LANGUAGE TOGGLE ==================
        function toggleLang() {
            const body = document.body;
            if (body.classList.contains('es')) {
                body.classList.remove('es');
                body.classList.add('en');
                state.lang = 'en';
            } else {
                body.classList.remove('en');
                body.classList.add('es');
                state.lang = 'es';
            }
        }

        function toggleMobileMenu() {
            document.getElementById('mobileMenu').classList.toggle('hidden');
        }

        // ================== SERVICES FILTER ==================
        function filterServices(category) {
            const cards = document.querySelectorAll('.service-card');
            const buttons = document.querySelectorAll('.service-filter');
            
            buttons.forEach(btn => {
                btn.classList.remove('border-gold', 'text-gold');
                btn.classList.add('border-gray-600', 'text-gray-400');
            });
            event.target.classList.remove('border-gray-600', 'text-gray-400');
            event.target.classList.add('border-gold', 'text-gold');

            cards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function selectService(id, price, name) {
            state.selectedService = { id, price, name };
            updateBookingSummary();
            document.getElementById('booking').scrollIntoView({ behavior: 'smooth' });
        }

        // ================== CALENDAR ==================
        function renderCalendar() {
            const year = state.currentMonth.getFullYear();
            const month = state.currentMonth.getMonth();
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date();

            const monthNames = state.lang === 'es' 
                ? ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre']
                : ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

            document.getElementById('currentMonth').textContent = `${monthNames[month]} ${year}`;

            let html = '';
            for (let i = 0; i < firstDay; i++) {
                html += '<div></div>';
            }

            for (let day = 1; day <= daysInMonth; day++) {
                const date = new Date(year, month, day);
                const isToday = date.toDateString() === today.toDateString();
                const isPast = date < today && !isToday;
                const isSunday = date.getDay() === 0;
                const isSelected = state.selectedDate && date.toDateString() === state.selectedDate.toDateString();

                let classes = 'p-2 text-center rounded cursor-pointer transition ';
                if (isPast || isSunday) {
                    classes += 'text-gray-600 cursor-not-allowed';
                } else if (isSelected) {
                    classes += 'bg-gold text-dark';
                } else if (isToday) {
                    classes += 'border border-gold text-gold hover:bg-gold hover:text-dark';
                } else {
                    classes += 'hover:bg-gray-800';
                }

                html += `<div class="${classes}" onclick="${!isPast && !isSunday ? `selectDate(${year}, ${month}, ${day})` : ''}">${day}</div>`;
            }

            document.getElementById('calendarDays').innerHTML = html;
        }

        function prevMonth() {
            state.currentMonth.setMonth(state.currentMonth.getMonth() - 1);
            renderCalendar();
        }

        function nextMonth() {
            state.currentMonth.setMonth(state.currentMonth.getMonth() + 1);
            renderCalendar();
        }

        function selectDate(year, month, day) {
            state.selectedDate = new Date(year, month, day);
            renderCalendar();
            renderTimeSlots();
            updateBookingSummary();
        }

        // ================== TIME SLOTS ==================
        function renderTimeSlots() {
            const times = ['9:00', '9:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30', '18:00', '18:30', '19:00', '19:30'];
            
            // Simulate some booked slots
            const bookedTimes = ['10:00', '14:30', '16:00'];

            let html = '';
            times.forEach(time => {
                const isBooked = bookedTimes.includes(time);
                const isSelected = state.selectedTime === time;
                
                let classes = 'p-2 text-center text-sm rounded transition ';
                if (isBooked) {
                    classes += 'bg-gray-800 text-gray-600 cursor-not-allowed line-through';
                } else if (isSelected) {
                    classes += 'bg-gold text-dark cursor-pointer';
                } else {
                    classes += 'border border-gray-700 hover:border-gold hover:text-gold cursor-pointer';
                }

                html += `<div class="${classes}" onclick="${!isBooked ? `selectTime('${time}')` : ''}">${time}</div>`;
            });

            document.getElementById('timeSlots').innerHTML = html;
        }

        function selectTime(time) {
            state.selectedTime = time;
            renderTimeSlots();
            updateBookingSummary();
        }

        // ================== BOOKING SUMMARY ==================
        function updateBookingSummary() {
            const summary = document.getElementById('bookingSummary');
            const btn = document.getElementById('confirmBooking');

            if (!state.selectedService) {
                summary.innerHTML = `<p class="text-gray-400">${state.lang === 'es' ? 'Selecciona un servicio y fecha' : 'Select a service and date'}</p>`;
                btn.disabled = true;
                return;
            }

            let html = `
                <div class="flex justify-between">
                    <span>${state.lang === 'es' ? 'Servicio' : 'Service'}:</span>
                    <span class="text-white">${state.selectedService.name}</span>
                </div>
                <div class="flex justify-between">
                    <span>${state.lang === 'es' ? 'Precio' : 'Price'}:</span>
                    <span class="text-gold">$${state.selectedService.price.toLocaleString()} COP</span>
                </div>
            `;

            if (state.selectedDate) {
                const dateStr = state.selectedDate.toLocaleDateString(state.lang === 'es' ? 'es-CO' : 'en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                html += `
                    <div class="flex justify-between">
                        <span>${state.lang === 'es' ? 'Fecha' : 'Date'}:</span>
                        <span class="text-white">${dateStr}</span>
                    </div>
                `;
            }

            if (state.selectedTime) {
                html += `
                    <div class="flex justify-between">
                        <span>${state.lang === 'es' ? 'Hora' : 'Time'}:</span>
                        <span class="text-white">${state.selectedTime}</span>
                    </div>
                `;
            }

            summary.innerHTML = html;
            btn.disabled = !(state.selectedService && state.selectedDate && state.selectedTime);
        }

        // ================== BOOKING CONFIRMATION ==================
        function confirmBooking() {
            const booking = {
                id: Date.now(),
                service: state.selectedService,
                date: state.selectedDate.toISOString(),
                time: state.selectedTime,
                barber: state.selectedBarber,
                createdAt: new Date().toISOString()
            };

            state.bookings.push(booking);
            localStorage.setItem('jermaine_bookings', JSON.stringify(state.bookings));

            // Show confirmation modal
            const details = document.getElementById('bookingDetails');
            details.innerHTML = `
                <div class="glass p-4 rounded-lg space-y-2">
                    <p><strong>${state.lang === 'es' ? 'Servicio' : 'Service'}:</strong> ${state.selectedService.name}</p>
                    <p><strong>${state.lang === 'es' ? 'Fecha' : 'Date'}:</strong> ${state.selectedDate.toLocaleDateString()}</p>
                    <p><strong>${state.lang === 'es' ? 'Hora' : 'Time'}:</strong> ${state.selectedTime}</p>
                    <p class="text-gold font-semibold">Total: $${state.selectedService.price.toLocaleString()} COP</p>
                </div>
            `;
            document.getElementById('bookingModal').classList.remove('hidden');

            // Reset state
            state.selectedService = null;
            state.selectedDate = null;
            state.selectedTime = null;
            updateBookingSummary();
            renderCalendar();
            renderTimeSlots();
        }

        function closeBookingModal() {
            document.getElementById('bookingModal').classList.add('hidden');
        }

        function openBooking() {
            document.getElementById('booking').scrollIntoView({ behavior: 'smooth' });
        }

        // ================== CART ==================
        function addToCart(product, price) {
            state.cart.push({ product, price });
            updateCart();
        }

        function updateCart() {
            const cartFloat = document.getElementById('cartFloat');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');

            if (state.cart.length === 0) {
                cartFloat.classList.add('hidden');
                return;
            }

            cartFloat.classList.remove('hidden');
            
            const grouped = state.cart.reduce((acc, item) => {
                acc[item.product] = acc[item.product] || { count: 0, price: item.price };
                acc[item.product].count++;
                return acc;
            }, {});

            let html = '';
            for (const [product, data] of Object.entries(grouped)) {
                html += `<div class="flex justify-between text-gray-300">
                    <span>${product} x${data.count}</span>
                    <span>$${(data.price * data.count).toLocaleString()}</span>
                </div>`;
            }
            cartItems.innerHTML = html;

            const total = state.cart.reduce((sum, item) => sum + item.price, 0);
            cartTotal.textContent = `$${total.toLocaleString()}`;
        }

        function checkout() {
            alert(state.lang === 'es' ? '¬°Gracias por tu compra! Te contactaremos por WhatsApp.' : 'Thank you for your purchase! We\'ll contact you via WhatsApp.');
            state.cart = [];
            updateCart();
        }

        // ================== CHAT ==================
        function toggleChat() {
            document.getElementById('chatWindow').classList.toggle('hidden');
        }

        function openChat() {
            document.getElementById('chatWindow').classList.remove('hidden');
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            addUserMessage(message);
            input.value = '';

            // Show typing indicator
            showTyping();

            // Process with Sofia AI
            setTimeout(() => {
                hideTyping();
                const response = processMessage(message);
                addBotMessage(response);
            }, 1000 + Math.random() * 1000);
        }

        function sendQuickReply(type) {
            const messages = {
                reservar: state.lang === 'es' ? 'Quiero reservar una cita' : 'I want to book an appointment',
                precios: state.lang === 'es' ? '¬øCu√°les son los precios?' : 'What are the prices?',
                horarios: state.lang === 'es' ? '¬øCu√°les son los horarios?' : 'What are the hours?',
                ubicacion: state.lang === 'es' ? '¬øD√≥nde est√°n ubicados?' : 'Where are you located?'
            };

            addUserMessage(messages[type]);
            showTyping();

            setTimeout(() => {
                hideTyping();
                const response = processQuickReply(type);
                addBotMessage(response);
            }, 800);
        }

        function addUserMessage(text) {
            const container = document.getElementById('chatMessages');
            container.innerHTML += `
                <div class="flex gap-3 justify-end message-in">
                    <div class="bg-gold text-dark rounded-2xl rounded-tr-none p-3 max-w-[80%]">
                        <p class="text-sm">${text}</p>
                    </div>
                </div>
            `;
            container.scrollTop = container.scrollHeight;
        }

        function addBotMessage(text) {
            const container = document.getElementById('chatMessages');
            container.innerHTML += `
                <div class="flex gap-3 message-in">
                    <div class="w-8 h-8 bg-gold rounded-full flex items-center justify-center flex-shrink-0 font-display text-dark text-sm">S</div>
                    <div class="bg-gray-800 rounded-2xl rounded-tl-none p-3 max-w-[80%]">
                        <p class="text-sm">${text}</p>
                    </div>
                </div>
            `;
            container.scrollTop = container.scrollHeight;
        }

        function showTyping() {
            const container = document.getElementById('chatMessages');
            container.innerHTML += `
                <div id="typingIndicator" class="flex gap-3 message-in">
                    <div class="w-8 h-8 bg-gold rounded-full flex items-center justify-center flex-shrink-0 font-display text-dark text-sm">S</div>
                    <div class="bg-gray-800 rounded-2xl rounded-tl-none p-3 flex gap-1">
                        <span class="w-2 h-2 bg-gray-500 rounded-full typing-dot"></span>
                        <span class="w-2 h-2 bg-gray-500 rounded-full typing-dot"></span>
                        <span class="w-2 h-2 bg-gray-500 rounded-full typing-dot"></span>
                    </div>
                </div>
            `;
            container.scrollTop = container.scrollHeight;
        }

        function hideTyping() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) indicator.remove();
        }

        function processQuickReply(type) {
            const responses = {
                reservar: state.lang === 'es' 
                    ? '¬°Perfecto! Para reservar puedes:<br><br>1Ô∏è‚É£ Usar nuestro calendario arriba en la secci√≥n "Reservar"<br>2Ô∏è‚É£ Llamarnos al <a href="tel:+573181326952" class="text-gold">+57 318 132 6952</a><br>3Ô∏è‚É£ Escribirnos por <a href="https://wa.me/573181326952" class="text-gold">WhatsApp</a><br><br>¬øQu√© servicio te interesa?'
                    : 'Perfect! To book you can:<br><br>1Ô∏è‚É£ Use our calendar above in the "Book" section<br>2Ô∏è‚É£ Call us at <a href="tel:+573181326952" class="text-gold">+57 318 132 6952</a><br>3Ô∏è‚É£ Message us on <a href="https://wa.me/573181326952" class="text-gold">WhatsApp</a><br><br>What service interests you?',
                
                precios: state.lang === 'es'
                    ? 'üíà <strong>Barber√≠a:</strong><br>‚Ä¢ Corte Cl√°sico: $25,000<br>‚Ä¢ Fade/Degradado: $30,000<br>‚Ä¢ Arreglo Barba: $15,000<br>‚Ä¢ Combo Corte+Barba: $35,000<br><br>üíÖ <strong>U√±as:</strong><br>‚Ä¢ Manicure: $25,000<br>‚Ä¢ Pedicure: $35,000<br><br>üíÜ <strong>Spa:</strong><br>‚Ä¢ Facial: $60,000<br>‚Ä¢ Masaje: $70,000<br><br>¬øTe gustar√≠a reservar alguno?'
                    : 'üíà <strong>Barber:</strong><br>‚Ä¢ Classic Cut: $25,000<br>‚Ä¢ Fade: $30,000<br>‚Ä¢ Beard Trim: $15,000<br>‚Ä¢ Cut+Beard Combo: $35,000<br><br>üíÖ <strong>Nails:</strong><br>‚Ä¢ Manicure: $25,000<br>‚Ä¢ Pedicure: $35,000<br><br>üíÜ <strong>Spa:</strong><br>‚Ä¢ Facial: $60,000<br>‚Ä¢ Massage: $70,000<br><br>Would you like to book any?',
                
                horarios: state.lang === 'es'
                    ? 'üïê <strong>Nuestros horarios:</strong><br><br>Lunes a Viernes: 9:00 AM - 8:00 PM<br>S√°bados: 9:00 AM - 6:00 PM<br>Domingos: Cerrado<br><br>El mejor momento para venir sin espera es entre semana de 2-4 PM üòâ'
                    : 'üïê <strong>Our hours:</strong><br><br>Monday-Friday: 9:00 AM - 8:00 PM<br>Saturday: 9:00 AM - 6:00 PM<br>Sunday: Closed<br><br>Best time to come without waiting is weekdays 2-4 PM üòâ',
                
                ubicacion: state.lang === 'es'
                    ? 'üìç <strong>Estamos en:</strong><br><br>Calle 6 #2-26, Edificio Granada<br>Local 2A, frente al Hotel Almirante<br>Centro Hist√≥rico de Cartagena<br><br>üëâ <a href="https://maps.google.com/?q=Jermaine+Barbers+Cartagena" class="text-gold" target="_blank">Ver en Google Maps</a><br><br>¬°Te esperamos! ü™í'
                    : 'üìç <strong>We\'re at:</strong><br><br>Calle 6 #2-26, Edificio Granada<br>Local 2A, in front of Hotel Almirante<br>Cartagena Historic Center<br><br>üëâ <a href="https://maps.google.com/?q=Jermaine+Barbers+Cartagena" class="text-gold" target="_blank">View on Google Maps</a><br><br>We\'re waiting for you! ü™í'
            };
            return responses[type];
        }

        function processMessage(message) {
            const msg = message.toLowerCase();
            
            // Booking intents
            if (msg.includes('reserv') || msg.includes('cita') || msg.includes('book') || msg.includes('appointment')) {
                return processQuickReply('reservar');
            }
            
            // Price intents
            if (msg.includes('precio') || msg.includes('cost') || msg.includes('cuanto') || msg.includes('price') || msg.includes('how much')) {
                return processQuickReply('precios');
            }
            
            // Hours intents
            if (msg.includes('horario') || msg.includes('hora') || msg.includes('abren') || msg.includes('cierran') || msg.includes('hour') || msg.includes('open') || msg.includes('close')) {
                return processQuickReply('horarios');
            }
            
            // Location intents
            if (msg.includes('donde') || msg.includes('direccion') || msg.includes('ubicacion') || msg.includes('llegar') || msg.includes('where') || msg.includes('location') || msg.includes('address')) {
                return processQuickReply('ubicacion');
            }
            
            // Service-specific
            if (msg.includes('fade') || msg.includes('degradado')) {
                return state.lang === 'es'
                    ? 'üíà El Fade/Degradado cuesta $30,000 COP y toma aproximadamente 50 minutos. Incluye lavado y estilo. ¬øTe gustar√≠a reservar?'
                    : 'üíà The Fade costs $30,000 COP and takes approximately 50 minutes. Includes wash and style. Would you like to book?';
            }
            
            if (msg.includes('barba') || msg.includes('beard')) {
                return state.lang === 'es'
                    ? 'üßî Tenemos arreglo de barba por $15,000 y el combo corte + barba por $35,000. El afeitado cl√°sico con navaja y toalla caliente cuesta $20,000. ¬øCu√°l prefieres?'
                    : 'üßî We have beard trim for $15,000 and the cut + beard combo for $35,000. Classic shave with straight razor and hot towel is $20,000. Which do you prefer?';
            }
            
            if (msg.includes('u√±a') || msg.includes('manicur') || msg.includes('pedicur') || msg.includes('nail')) {
                return state.lang === 'es'
                    ? 'üíÖ ¬°Tambi√©n hacemos u√±as! Manicure cl√°sico $25,000, semipermanente $45,000, y pedicure completo $35,000. Agenda el tuyo!'
                    : 'üíÖ We also do nails! Classic manicure $25,000, gel $45,000, and full pedicure $35,000. Book yours!';
            }
            
            if (msg.includes('producto') || msg.includes('product') || msg.includes('comprar') || msg.includes('buy')) {
                return state.lang === 'es'
                    ? 'üõí Vendemos productos premium: pomadas, aceites para barba, shampoos y kits de barbero. Puedes verlos en la secci√≥n Tienda arriba o comprarlos directamente en el local. ¬øTe interesa algo espec√≠fico?'
                    : 'üõí We sell premium products: pomades, beard oils, shampoos and barber kits. You can see them in the Shop section above or buy them directly at the shop. Interested in anything specific?';
            }
            
            // Greetings
            if (msg.includes('hola') || msg.includes('hi') || msg.includes('hello') || msg.includes('buenos') || msg.includes('buenas')) {
                return state.lang === 'es'
                    ? '¬°Hola! üòä Bienvenido a Jermaine Barber\'s, la mejor barber√≠a de Cartagena. ¬øEn qu√© puedo ayudarte hoy?'
                    : 'Hello! üòä Welcome to Jermaine Barber\'s, the best barbershop in Cartagena. How can I help you today?';
            }
            
            // Thanks
            if (msg.includes('gracias') || msg.includes('thank')) {
                return state.lang === 'es'
                    ? '¬°Con gusto! üôå Si tienes m√°s preguntas, aqu√≠ estoy. ¬°Te esperamos en Jermaine Barber\'s!'
                    : 'You\'re welcome! üôå If you have more questions, I\'m here. We\'re waiting for you at Jermaine Barber\'s!';
            }
            
            // Default response
            return state.lang === 'es'
                ? 'No estoy segura de entender. ¬øPodr√≠as preguntarme sobre:<br>‚Ä¢ Reservar una cita<br>‚Ä¢ Nuestros servicios y precios<br>‚Ä¢ Horarios de atenci√≥n<br>‚Ä¢ C√≥mo llegar<br>‚Ä¢ Nuestros productos<br><br>O escr√≠benos directamente por <a href="https://wa.me/573181326952" class="text-gold">WhatsApp</a> üí¨'
                : 'I\'m not sure I understand. Could you ask me about:<br>‚Ä¢ Booking an appointment<br>‚Ä¢ Our services and prices<br>‚Ä¢ Business hours<br>‚Ä¢ How to get here<br>‚Ä¢ Our products<br><br>Or message us directly on <a href="https://wa.me/573181326952" class="text-gold">WhatsApp</a> üí¨';
        }

        // ================== INITIALIZATION ==================
        document.addEventListener('DOMContentLoaded', () => {
            renderCalendar();
            renderTimeSlots();
        });
    </script>
</body>
</html>
